# TIDUXIAFAN
# ç³–å°¿ç—…æ—©æœŸæ™ºèƒ½æ£€æµ‹ç³»ç»Ÿ ğŸ©º

[![Streamlit](https://static.streamlit.io/badges/streamlit_badge_black_white.svg)](https://your-app-url.herokuapp.com)
![Python](https://img.shields.io/badge/Python-3.8%2B-blue)
![License](https://img.shields.io/badge/License-MIT-green)
![Accuracy](https://img.shields.io/badge/Accuracy-99.5%25-brightgreen)

**åŸºäºå¤šæ¨¡æ€ä¸´åºŠæ•°æ®çš„ç³–å°¿ç—…é£é™©è¯„ä¼°ä¸ä¸´åºŠå†³ç­–æ”¯æŒç³»ç»Ÿ**

## æ ¸å¿ƒåŠŸèƒ½ âœ¨

### é£é™©è¯„ä¼°ç»´åº¦
| æŒ‡æ ‡ç±»å‹       | åŒ…å«å‚æ•°                     | åŒ»å­¦æ„ä¹‰                  |
|----------------|----------------------------|-------------------------|
| åŸºç¡€ä»£è°¢æŒ‡æ ‡   | BMIã€å¹´é¾„ã€æ€§åˆ«              | åŸºç¡€é£é™©è¯„ä¼°              |
| ç³–ä»£è°¢æŒ‡æ ‡     | HbA1cã€ç©ºè…¹è¡€ç³–             | è¡€ç³–æ§åˆ¶æƒ…å†µè¯„ä¼°          |
| è„‚ä»£è°¢æŒ‡æ ‡     | TGã€HDLã€LDLã€VLDL          | ä»£è°¢ç»¼åˆå¾è¯„ä¼°            |
| è‚¾åŠŸèƒ½æŒ‡æ ‡     | Ureaã€Cr                   | ç³–å°¿ç—…è‚¾ç—…é£é™©è¯„ä¼°        |

### ç³»ç»Ÿç‰¹æ€§
- **åŒæ¨¡è¯„ä¼°**ï¼šæ”¯æŒå•ä¾‹å³æ—¶è¯„ä¼°ä¸æ‰¹é‡æ•°æ®å¤„ç†
- **ä¸‰çº§é¢„è­¦**ï¼šçº¢/é»„/ç»¿ä¸‰è‰²é£é™©åˆ†çº§ï¼ˆé«˜é£é™©â‰¥70%ï¼Œä¸­é£é™©40-70%ï¼Œä½é£é™©<40%ï¼‰
- **ä¸´åºŠæŒ‡å—æ•´åˆ**ï¼šç¬¦åˆã€Šä¸­å›½2å‹ç³–å°¿ç—…é˜²æ²»æŒ‡å—ã€‹å»ºè®®
- **å¯è§£é‡Šæ€§æŠ¥å‘Š**ï¼šç‰¹å¾é‡è¦æ€§åˆ†æä¸é£é™©å› å­å¯è§†åŒ–

## æŠ€æœ¯æ¶æ„ ğŸ§©

```mermaid
graph LR
    A[ä¸´åºŠæ•°æ®] --> B{æ··åˆæ¨¡å‹æ¶æ„}
    B --> C[XGBoost]
    B --> D[éšæœºæ£®æ—]
    B --> E[é€»è¾‘å›å½’]
    C --> F[ç‰¹å¾é‡è¦æ€§åˆ†æ]
    D --> G[å†³ç­–è·¯å¾„å¯è§†åŒ–]
    E --> H[æ¦‚ç‡æ ¡å‡†]
    F --> I[ç»¼åˆé£é™©è¯„ä¼°]
    G --> I[åˆ†çº§é¢„è­¦]
    H --> I[å¹²é¢„æ–¹æ¡ˆç”Ÿæˆ]
æ•°æ®é›† ğŸ“Š
æ•°æ®æ¥æº
æ¥æºç±»å‹	æ ·æœ¬é‡	æ•°æ®ç‰¹å¾
åŒ»é™¢EHR	15,000	å®Œæ•´ç”ŸåŒ–æŒ‡æ ‡+3å¹´éšè®¿
å…¬å¼€æ•°æ®é›†	8,700	åŸºç¡€ä»£è°¢æŒ‡æ ‡
å…³é”®ç‰¹å¾è¯´æ˜
ç‰¹å¾	ç±»å‹	åŒ»å­¦æ„ä¹‰	å‚è€ƒèŒƒå›´
HbA1c	è¿ç»­	3ä¸ªæœˆå¹³å‡è¡€ç³–	4-5.6%
BMI	è¿ç»­	è‚¥èƒ–ç¨‹åº¦	18.5-24.9
TG	è¿ç»­	è„‚ä»£è°¢çŠ¶æ€	<1.7 mmol/L
æ¨¡å‹æ€§èƒ½ ğŸš€
å¯¹æ¯”å®éªŒï¼ˆæµ‹è¯•é›†n=200ï¼‰
æ¨¡å‹	å‡†ç¡®ç‡	ç²¾ç¡®ç‡	å¬å›ç‡	F1	AUC
é€»è¾‘å›å½’ 0.980	0.988	0.988	0.988	0.944
éšæœºæ£®æ— 0.995	1.000	0.994	0.997	0.997
XGBoost	0.990	0.994	0.994	0.994	0.972
æœ€ä½³æ¨¡å‹å‚æ•°
RandomForestClassifier(
    n_estimators=200,
    max_depth=9,
    min_samples_split=5,
    class_weight={0:1, 1:3}  # å¤„ç†ç±»åˆ«ä¸å¹³è¡¡
)
å¿«é€Ÿå¯åŠ¨ âš¡
ç¯å¢ƒé…ç½®
conda create -n diabetes python=3.8
conda activate diabetes
pip install -r requirements.txt
å¯åŠ¨æœåŠ¡
streamlit run app.py --server.port 8501
æ¨¡å‹è®­ç»ƒ
python diabetes_model.py
ä¸´åºŠæ•´åˆæŒ‡å— ğŸ¥
è¯Šæ–­å·¥ä½œæµ
[ç”µå­ç—…å†ç³»ç»Ÿ] â†’ [é£é™©ç­›æŸ¥] â†’ (ä½é£é™©)â†’ å¹´åº¦éšè®¿
                          â†˜ (ä¸­é£é™©)â†’ ä¸“ç§‘é—¨è¯Š
                          â†˜ (é«˜é£é™©)â†’ ä½é™¢æ£€æŸ¥

ç•Œé¢æ¼”ç¤º ğŸ–¥ï¸
ä¸ªä½“é£é™©è¯„ä¼°
# ç¤ºä¾‹é¢„æµ‹APIè°ƒç”¨
import requests

clinical_data = {
    "AGE": 45,
    "HbA1c": 6.2,
    "BMI": 26.5,
    "Urea": 4.7,
    "Cr": 46
}

response = requests.post("http://localhost:8501/api/predict", json=clinical_data)
print(f"3å¹´ç³–å°¿ç—…é£é™©æ¦‚ç‡ï¼š{response.json()['risk_score']}%")

è®¸å¯è¯ ğŸ“„
æœ¬é¡¹ç›®é‡‡ç”¨ MIT Licenseï¼Œä¸´åºŠä½¿ç”¨éœ€ç¬¦åˆã€ŠåŒ»ç–—äººå·¥æ™ºèƒ½åº”ç”¨ç®¡ç†æ¡ä¾‹ã€‹

<details> <summary>ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„</summary>

.
â”œâ”€â”€ app.py                  # Streamlitå‰ç«¯
â”œâ”€â”€ diabetes_model.py       # æ¨¡å‹è®­ç»ƒåç«¯
â”œâ”€â”€ models/                 # é¢„è®­ç»ƒæ¨¡å‹
â”‚   â”œâ”€â”€ rf_model.pkl        # éšæœºæ£®æ—æ¨¡å‹
â”‚   â”œâ”€â”€ xgb_model.pkl       # XGBoostæ¨¡å‹
â”‚   â””â”€â”€ scaler.pkl          # æ ‡å‡†åŒ–å™¨
â””â”€â”€ data/
    â”œâ”€â”€ clinical_guide.pdf  # ä¸´åºŠæ•´åˆæŒ‡å—
    â””â”€â”€ template.csv        # æ‰¹é‡å¤„ç†æ¨¡æ¿
</details>
å‰ç«¯äº¤äº’ç•Œé¢streamlit
![image](https://github.com/user-attachments/assets/b7204a2b-c41c-4fe7-9e4c-a47f9da2190f)
![image](https://github.com/user-attachments/assets/20b23ab9-9a92-43d4-b081-8f9132489851)
![image](https://github.com/user-attachments/assets/92bb451a-6eb9-4dfa-a8a1-92289b3885b7)

